{% load static %}
<!DOCTYPE html>
<html>
<head>
	<title>Clinic360 - Calendar</title>
	<link rel="icon" type="image/png" href="{% static 'logo.png' %}">
	<link rel="stylesheet" href="{% static 'calendar.css' %}">

	<!-- Initialization code for FullCalendar JavaScript library -->
	<meta charset='utf-8' />
	<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js'></script>
	<script>
		document.addEventListener('DOMContentLoaded', function() {
			var calendarEl = document.getElementById('calendar');
			var calendar = new FullCalendar.Calendar(calendarEl, {
				initialView: 'dayGridMonth', 

				// These are placeholder events to show the format that each event's data is stored in
				events: [
					{
						title: 'all day event',
						start: '2024-10-24'
					}, 
					{
						title: 'event from 3pm to 4pm',
						start: '2024-10-23T15:00:00',
						end: '2024-10-23T16:00:00'
					}
				], 

				// Javascript to make popup with event info appear on event click
				eventClick: function(info) { 
					document.getElementById('eventTitle').textContent = info.event.title;

					const popup = document.getElementById("popup");

					popup.style.display = 'flex';
				}, 
			});
			calendar.render();
		});
	</script>

	<script src="{% static 'calendar.js' %}"></script>
</head>


<body onload="loadCalendarPage()">
	<div class="container">
		<!-- Calendar div object -->
		<div class="calendar" id='calendar'></div>

		<!-- Event Popup -->
		<div id="popup" class="popup">
			<div class="popup-content">
				<span class="close" id="closePopup">&times;</span>
				<h2><span id="eventTitle"></span></h2>
			</div>
		</div>
	</div>
	<div class="header">
		<a href="{% url 'home' %}"><img src="{% static 'logo.svg' %}" alt="Clinic360 Logo" class="logo"></a>
		<div class="dropdown">
			<button class="navigation dropbutton">Menu</button>
			<div class="dropdown-content">
				<a href="#">Page 1</a>
				<a href="#">Page 2</a>
				<a href="#">Page 3</a>
			</div>
		</div>
		<a class="anav" href="{% url 'calendar' %}">Calendar</a>
        <a class="anav" href="#">Example Navigation Button #2</a>
		<div class="user-card panel">
			<img src="{% static 'dummy-pfp.png' %}" alt="User Picture" id="user-picture">
			<span id="username"></span>
		</div>
	</div>
</body>
</html>